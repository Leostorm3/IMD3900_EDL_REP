<!DOCTYPE html>
<html>
    <head>
        <title>Hello, WebVR! - A-Frame</title>
        <meta name="description" content="Hello, WebVR! - A-Frame">
        <script src="/js/aframe.min.js"></script>
        <script src="/js/nav-pointer.js"></script>
    </head>
    <body>
        <!-- main scene and we added shadows .. -->
        <a-scene shadow="type:basic;">
                <a-assets timeout="3000">

                    <!-- all assets that can be cached by browser -->
                    <img crossorigin="anonymous" id="environment" src="/assets/textures/wall.jpg">        
                    <a-asset-item crossorigin="anonymous" id="environment-obj" src="/assets/models/Environment2.obj"></a-asset-item>
                    
                    <!-- Nav Mesh -->
                    <a-entity gltf-model="navMesh.gltf" visible = "false" nav-mesh ></a-entity>
                </a-assets>

                <!-- traditional method of creating a camera and cursor component for selection. select with reticle. -->
                <!-- Also added in controls for desktop mouse/kb -->

                <a-entity obj-model="obj: #environment-obj"
                      material="src: #environment"
                      position="0 1 0"
                      scale="1 1 1">
                </a-entity>
                  

                
                <a-entity id="rig" movement-controls="constrainToNavMesh: true" position="0 0 5" nav-agent="speed: 1.5">
                        <a-entity camera
                                  position="0 2 0"
                                  look-controls="pointerLockEnabled: true">
                          <a-cursor nav-pointer
                                    raycaster="objects: [nav-mesh]"></a-cursor>
                        </a-entity>
                </a-entity>

        </a-scene>
    </body>
</html>
